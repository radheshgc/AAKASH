<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>pam_sm_acct_mgmt(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="pam_sm_acct_mgmt(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry" title="pam_sm_acct_mgmt(3) — Linux manual pages">
    <a id="pam-sm-acct-mgmt.3" name="pam-sm-acct-mgmt.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <a id="pam_sm_acct_mgmt-name" name="pam_sm_acct_mgmt-name" shape="rect"> </a>

      <h2>Name</h2>

      <p>pam_sm_acct_mgmt — PAM service function for account
      management</p>
    </div>

    <div class="refsynopsisdiv" title="Synopsis">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <a id="pam_sm_acct_mgmt-synopsis" name="pam_sm_acct_mgmt-synopsis" shape="rect"> </a>
        <pre class="funcsynopsisinfo" xml:space="preserve">
#define PAM_SM_ACCOUNT
</pre>
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;security/pam_modules.h&gt;
</pre>

        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">PAM_EXTERN int
            <strong>pam_sm_acct_mgmt</strong>(</code></td>

            <td rowspan="1" colspan="1">pam_handle_t *<var class="pdparam">pamh</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">flags</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">argc</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char **<var class="pdparam">argv</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1" title="DESCRIPTION">
      <a id="pam_sm_acct_mgmt-description" name="pam_sm_acct_mgmt-description" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>The <code class="function">pam_sm_acct_mgmt</code>
      function is the service module's implementation of the
      <a class="link" href="../htmlman3/pam_acct_mgmt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_acct_mgmt</span>(3)</span></a>
      interface.</p>

      <p>This function performs the task of establishing whether
      the user is permitted to gain access at this time. It should
      be understood that the user has previously been validated by
      an authentication module. This function checks for other
      things. Such things might be: the time of day or the date,
      the terminal line, remote hostname, etc. This function may
      also determine things like the expiration on passwords, and
      respond that the user change it before continuing.</p>

      <p>Valid flags, which may be logically OR'd with <span class="emphasis"><em>PAM_SILENT</em></span>, are:</p>

      <div class="variablelist">
        <dl>
          <dt><span class="term">PAM_SILENT</span></dt>

          <dd>
            <p>Do not emit any messages.</p>
          </dd>

          <dt><span class="term">PAM_DISALLOW_NULL_AUTHTOK</span></dt>

          <dd>
            <p>Return <span class="emphasis"><em>PAM_AUTH_ERR</em></span> if the database
            of authentication tokens for this authentication
            mechanism has a <span class="emphasis"><em>NULL</em></span> entry for the user.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="RETURN VALUES">
      <a id="pam_sm_acct_mgmt-return_values" name="pam_sm_acct_mgmt-return_values" shape="rect"> </a>

      <h2>RETURN VALUES</h2>

      <div class="variablelist">
        <dl>
          <dt><span class="term">PAM_ACCT_EXPIRED</span></dt>

          <dd>
            <p>User account has expired.</p>
          </dd>

          <dt><span class="term">PAM_AUTH_ERR</span></dt>

          <dd>
            <p>Authentication failure.</p>
          </dd>

          <dt><span class="term">PAM_NEW_AUTHTOK_REQD</span></dt>

          <dd>
            <p>The user's authentication token has expired. Before
            calling this function again the application will
            arrange for a new one to be given. This will likely
            result in a call to <code class="function">pam_sm_chauthtok()</code>.</p>
          </dd>

          <dt><span class="term">PAM_PERM_DENIED</span></dt>

          <dd>
            <p>Permission denied.</p>
          </dd>

          <dt><span class="term">PAM_SUCCESS</span></dt>

          <dd>
            <p>The authentication token was successfully
            updated.</p>
          </dd>

          <dt><span class="term">PAM_USER_UNKNOWN</span></dt>

          <dd>
            <p>User unknown to password service.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1" title="SEE ALSO">
      <a id="pam_sm_acct_mgmt-see_also" name="pam_sm_acct_mgmt-see_also" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/pam.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam</span>(3)</span></a>, <a class="link" href="../htmlman3/pam_acct_mgmt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_acct_mgmt</span>(3)</span></a>, <a class="link" href="../htmlman3/pam_sm_chauthtok.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_sm_chauthtok</span>(3)</span></a>,
      <a class="link" href="../htmlman3/pam_strerror.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">pam_strerror</span>(3)</span></a>,
      <span class="citerefentry"><span class="refentrytitle">PAM</span>(8)</span></p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  See <a class="ulink" href="../linuxpam-copyright.html" target="_top" shape="rect">Linux-PAM copyright notice</a> for more information.
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
