<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>gnutls_pkcs12_simple_parse(3) — Linux manual
  pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="gnutls_pkcs12_simple_parse(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="gnutls-pkcs12-simple-parse.3" name="gnutls-pkcs12-simple-parse.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>gnutls_pkcs12_simple_parse — API function</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="funcsynopsis">
        <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;gnutls/pkcs12.h&gt;
</pre>

        <table border="0" class="funcprototype-table" summary="Function synopsis" style="cellspacing: 0; cellpadding: 0;">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>gnutls_pkcs12_simple_parse</strong>(</code></td>

            <td rowspan="1" colspan="1">gnutls_pkcs12_t <var class="pdparam">p12</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">const char * <var class="pdparam">password</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">gnutls_x509_privkey_t * <var class="pdparam">key</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">gnutls_x509_crt_t ** <var class="pdparam">chain</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned int * <var class="pdparam">chain_len</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">gnutls_x509_crt_t ** <var class="pdparam">extra_certs</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned int * <var class="pdparam">extra_certs_len</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">gnutls_x509_crl_t * <var class="pdparam">crl</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">unsigned int <var class="pdparam">flags</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect1" name="gnutls-pkcs12-simple-parse-3_sect1" shape="rect"> </a>

      <h2>ARGUMENTS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><span class="emphasis"><em>gnutls_pkcs12_t
          p12</em></span></span></dt>

          <dd>
            <p>the PKCS<code class="constant">12</code> blob.</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>const
          char * password</em></span></span></dt>

          <dd>
            <p>optional password used to decrypt PKCS<code class="constant">12</code> blob, bags and keys.</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>gnutls_x509_privkey_t *
          key</em></span></span></dt>

          <dd>
            <p>a structure to store the parsed private key.</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>gnutls_x509_crt_t **
          chain</em></span></span></dt>

          <dd>
            <p>the corresponding to key certificate chain (may be
            <code class="constant">NULL</code>)</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>unsigned int *
          chain_len</em></span></span></dt>

          <dd>
            <p>will be updated with the number of additional (may
            be <code class="constant">NULL</code>)</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>gnutls_x509_crt_t **
          extra_certs</em></span></span></dt>

          <dd>
            <p>optional pointer to receive an array of additional
            certificates found in the PKCS<code class="constant">12</code> blob (may be <code class="constant">NULL</code>).</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>unsigned int *
          extra_certs_len</em></span></span></dt>

          <dd>
            <p>will be updated with the number of additional certs
            (may be <code class="constant">NULL</code>).</p>
          </dd>

          <dt><span class="term"><span class="emphasis"><em>gnutls_x509_crl_t *
          crl</em></span></span></dt>

          <dd>
            <p>an optional structure to store the parsed CRL (may
            be <code class="constant">NULL</code>).</p>
          </dd>

          <dt><span class="term"><span class="type">unsigned int
          flags</span></span></dt>

          <dd>
            <p>should be zero or one of GNUTLS_PKCS12_SP_*</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect2" name="gnutls-pkcs12-simple-parse-3_sect2" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>This function parses a PKCS<code class="constant">12</code> blob in <code class="function">p12blob</code> and extracts the private key, the
      corresponding certificate chain, and any additional
      certificates and a CRL.</p>

      <p>The <code class="function">extra_certs_ret</code> and
      <code class="function">extra_certs_ret_len</code> parameters
      are optional and both may be set to <code class="constant">NULL</code>. If either is non−<code class="constant">NULL</code>, then both must be.</p>

      <p>Encrypted PKCS<code class="constant">12</code> bags and
      PKCS<code class="constant">8</code> private keys are
      supported. However, only password based security, and the
      same password for all operations, are supported.</p>

      <p>PKCS<code class="constant">12</code> file may contain many
      keys and/or certificates, and there is no way to identify
      which key/certificate pair you want. You should make sure the
      PKCS<code class="constant">12</code> file only contain one
      key/certificate pair and/or one CRL.</p>

      <p>It is believed that the limitations of this function is
      acceptable for most usage, and that any more flexibility
      would introduce complexity that would make it harder to use
      this functionality at all.</p>

      <p>If the provided structure has encrypted fields but no
      password is provided then this function returns <span class="errorname">GNUTLS_E_DECRYPTION_FAILED</span>.</p>

      <p>Note that normally the chain constructed does not include
      self signed certificates, to comply with TLS' requirements.
      If, however, the flag <code class="constant">GNUTLS_PKCS12_SP_INCLUDE_SELF_SIGNED</code> is
      specified then self signed certificates will be included in
      the chain.</p>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect3" name="gnutls-pkcs12-simple-parse-3_sect3" shape="rect"> </a>

      <h2>RETURNS</h2>

      <p>On success, <span class="errorname">GNUTLS_E_SUCCESS</span> (0) is returned,
      otherwise a negative error value.</p>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect4" name="gnutls-pkcs12-simple-parse-3_sect4" shape="rect"> </a>

      <h2>SINCE</h2>

      <p>3.1</p>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect5" name="gnutls-pkcs12-simple-parse-3_sect5" shape="rect"> </a>

      <h2>REPORTING BUGS</h2>

      <p>Report bugs to &lt;bug-gnutls@gnu.org&gt;.</p>

      <p>General guidelines for reporting bugs:
      http://www.gnu.org/gethelp/</p>

      <p>GnuTLS home page: http://www.gnu.org/software/gnutls/</p>
    </div>

    <div class="refsect1">
      <a id="gnutls-pkcs12-simple-parse-3_sect7" name="gnutls-pkcs12-simple-parse-3_sect7" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p>The full documentation for <em class="citetitle">gnutls</em> is maintained as a Texinfo manual. If
      the <span class="command"><strong>info</strong></span> and
      <em class="citetitle">gnutls</em> programs are properly
      installed at your site, the command</p>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
info gnutls
</pre>
      </div>

      <p>should give you access to the complete manual. As an
      alternative you may obtain the manual from:</p>

      <div class="itemizedlist">
        <ul class="itemizedlist" style="list-style-type: disc;">
          <li class="listitem">
            <p><a class="literalurl" href="http://www.gnu.org/software/gnutls/manual/" target="_top" shape="rect">http://www.gnu.org/software/gnutls/manual/</a></p>
          </li>
        </ul>
      </div>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <thead>
            <tr>
              <th style="" rowspan="1" colspan="1">COPYRIGHT</th>
            </tr>
          </thead>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <p>Copyright © 2012 Free Software Foundation,
                Inc..</p>

                <p>Copying and distribution of this file, with or
                without modification, are permitted in any medium
                without royalty provided the copyright notice and
                this notice are preserved.</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
