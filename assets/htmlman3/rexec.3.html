<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>rexec(3) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="rexec(3) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index3.html" shape="rect">Section 3</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry" title="rexec(3) — Linux manual pages">
    <a id="rexec.3" name="rexec.3" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>rexec, rexec_af — return stream to a remote
      command</p>
    </div>

    <div class="refsynopsisdiv" title="Synopsis">
      <h2>Synopsis</h2>

      <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
#define _BSD_SOURCE              /* See feature_test_macros(7) */
#include &lt;netdb.h&gt;
</pre>
      </div>

      <div class="funcsynopsis">
        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>rexec</strong>(</code></td>

            <td rowspan="1" colspan="1">char **<var class="pdparam">ahost</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">inport</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">user</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">passwd</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">cmd</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">fd2p</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>

      <div class="funcsynopsis">
        <table border="0" summary="Function synopsis" cellspacing="0" cellpadding="0" class="funcprototype-table">
          <tr>
            <td rowspan="1" colspan="1"><code class="funcdef">int
            <strong>rexec_af</strong>(</code></td>

            <td rowspan="1" colspan="1">char **<var class="pdparam">ahost</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int <var class="pdparam">inport</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">user</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">passwd</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">char *<var class="pdparam">cmd</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">int *<var class="pdparam">fd2p</var>,</td>
          </tr>

          <tr>
            <td rowspan="1" colspan="1"> </td>

            <td rowspan="1" colspan="1">sa_family_t <var class="pdparam">af</var><code>)</code>;</td>
          </tr>
        </table>

        <div class="funcprototype-spacer">
           
        </div>
      </div>
    </div>

    <div class="refsect1" title="DESCRIPTION">
      <a id="rexec-3_sect1" name="rexec-3_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p>This interface is obsoleted by <a class="link" href="../htmlman3/rcmd.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">rcmd</span>(3)</span></a>.</p>

      <p>The <code class="function">rexec</code>() function looks
      up the host *<em class="parameter"><code>ahost</code></em>
      using <a class="link" href="../htmlman3/gethostbyname.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">gethostbyname</span>(3)</span></a>, returning
      −1 if the host does not exist. Otherwise *<em class="parameter"><code>ahost</code></em> is set to the standard
      name of the host. If a username and password are both
      specified, then these are used to authenticate to the foreign
      host; otherwise the environment and then the user's
      <em class="replaceable"><code>.netrc</code></em> file in his
      home directory are searched for appropriate information. If
      all this fails, the user is prompted for the information.</p>

      <p>The port <em class="parameter"><code>inport</code></em>
      specifies which well-known DARPA Internet port to use for the
      connection; the call <span class="emphasis"><em>getservbyname("exec", "tcp")</em></span> (see
      <a class="link" href="../htmlman3/getservent.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getservent</span>(3)</span></a>) will return
      a pointer to a structure that contains the necessary port.
      The protocol for connection is described in detail in
      <span class="citerefentry"><span class="refentrytitle">rexecd</span>(8)</span>.</p>

      <p>If the connection succeeds, a socket in the Internet
      domain of type <code class="constant">SOCK_STREAM</code> is
      returned to the caller, and given to the remote command as
      <code class="varname">stdin</code> and <code class="varname">stdout</code>. If <em class="parameter"><code>fd2p</code></em> is nonzero, then an
      auxiliary channel to a control process will be setup, and a
      descriptor for it will be placed in *<em class="parameter"><code>fd2p</code></em>. The control process will
      return diagnostic output from the command (unit 2) on this
      channel, and will also accept bytes on this channel as being
      UNIX signal numbers, to be forwarded to the process group of
      the command. The diagnostic information returned does not
      include remote authorization failure, as the secondary
      connection is set up after authorization has been verified.
      If <em class="parameter"><code>fd2p</code></em> is 0, then
      the <code class="varname">stderr</code> (unit 2 of the remote
      command) will be made the same as the <code class="varname">stdout</code> and no provision is made for sending
      arbitrary signals to the remote process, although you may be
      able to get its attention by using out-of-band data.</p>

      <div class="refsect2" title="rexec_af()">
        <a id="rexec-3_sect2" name="rexec-3_sect2" shape="rect"> </a>

        <h3>rexec_af()</h3>

        <p>The <code class="function">rexec</code>() function works
        over IPv4 (<code class="constant">AF_INET</code>). By
        contrast, the <code class="function">rexec_af</code>()
        function provides an extra argument, <em class="parameter"><code>af</code></em>, that allows the caller to
        select the protocol. This argument can be specified as
        <code class="constant">AF_INET</code>, <code class="constant">AF_INET6</code>, or <code class="constant">AF_UNSPEC</code> (to allow the implementation to
        select the protocol).</p>
      </div>
    </div>

    <div class="refsect1" title="VERSIONS">
      <a id="rexec-3_sect3" name="rexec-3_sect3" shape="rect"> </a>

      <h2>VERSIONS</h2>

      <p>The <code class="function">rexec_af</code>() function was
      added to glibc in version 2.2.</p>
    </div>

    <div class="refsect1" title="CONFORMING TO">
      <a id="rexec-3_sect4" name="rexec-3_sect4" shape="rect"> </a>

      <h2>CONFORMING TO</h2>

      <p>These functions are not in POSIX.1-2001. The <code class="function">rexec</code>() function first appeared in 4.2BSD,
      and is present on the BSDs, Solaris, and many other systems.
      The <code class="function">rexec_af</code>() function is more
      recent, and less widespread.</p>
    </div>

    <div class="refsect1" title="BUGS">
      <a id="rexec-3_sect5" name="rexec-3_sect5" shape="rect"> </a>

      <h2>BUGS</h2>

      <p>The <code class="function">rexec</code>() function sends
      the unencrypted password across the network.</p>

      <p>The underlying service is considered a big security hole
      and therefore not enabled on many sites; see <span class="citerefentry"><span class="refentrytitle">rexecd</span>(8)</span> for explanations.</p>
    </div>

    <div class="refsect1" title="SEE ALSO">
      <a id="rexec-3_sect6" name="rexec-3_sect6" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/rcmd.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">rcmd</span>(3)</span></a>, <span class="citerefentry"><span class="refentrytitle">rexecd</span>(8)</span></p>
    </div>

    <div class="colophon" title="COLOPHON">
      <a id="rexec-3_sect7" name="rexec-3_sect7" shape="rect"> </a>

      <h2>COLOPHON</h2>

      <p>This page is part of release 3.41 of the Linux <em class="replaceable"><code>man-pages</code></em> project. A
      description of the project, and information about reporting
      bugs, can be found at
      http://www.kernel.org/doc/man-pages/.</p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                    Copyright (c) 1983, 1991, 1993<br />

                      The Regents of the University of California.  All rights reserved.<br />

                  <br />
                  Redistribution and use in source and binary forms, with or without<br />

                  modification, are permitted provided that the following conditions<br />

                  are met:<br />
                  1. Redistributions of source code must retain the above copyright<br />

                     notice, this list of conditions and the following disclaimer.<br />

                  2. Redistributions in binary form must reproduce the above copyright<br />

                     notice, this list of conditions and the following disclaimer in the<br />

                     documentation and/or other materials provided with the distribution.<br />

                  3. All advertising materials mentioning features or use of this software<br />

                     must display the following acknowledgement:<br />

                      This product includes software developed by the University of<br />

                      California, Berkeley and its contributors.<br />

                  4. Neither the name of the University nor the names of its contributors<br />

                     may be used to endorse or promote products derived from this software<br />

                     without specific prior written permission.<br />

                  <br />
                  THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND<br />

                  ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE<br />

                  IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE<br />

                  ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE<br />

                  FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL<br />

                  DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS<br />

                  OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)<br />

                  HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT<br />

                  LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY<br />

                  OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF<br />

                  SUCH DAMAGE.<br />
                  <br />
                      <script type="text/javascript">document.write('@');</script><noscript>(@)</noscript>(#)rexec.3     8.1 (Berkeley) 6/4/93<br />

                  $FreeBSD: src/lib/libcompat/4.3/rexec.3,v 1.12 2004/07/02 23:52:14 ru Exp $<br />

                  <br />
                  Taken from FreeBSD 5.4; not checked against Linux reality (mtk)<br />

                  <br />
                  2007-12-08, mtk, Converted from mdoc to man macros<br />
                  
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
