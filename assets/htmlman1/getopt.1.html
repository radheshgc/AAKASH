<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <title>getopt(1) — Linux manual pages</title>
  <link rel="stylesheet" type="text/css" href="../stylesheet/manpages.css" />
  
  <link rel="home" href="../index.html" title="getopt(1) — Linux manual pages" />
  <script type="text/javascript" src="../stylesheet/manpages.js" xml:space="preserve">
</script>
  <link rel="icon" href="../stylesheet/icon.gif" type="image/gif" />
</head>

<body onload="javascript:init()">
  <div class="navheader">
    <table width="100%">
      <tbody>
        <tr>
          <td style="width: 33%" rowspan="1" colspan="1"><a href="../index.html" shape="rect">Linux
          manual pages</a></td>

          <th rowspan="1" colspan="1"><a href="../index1.html" shape="rect">Section 1</a></th>

          <td style="width: 33%" rowspan="1" colspan="1"> </td>
        </tr>
      </tbody>
    </table>
    <hr />
  </div>

  <div class="refentry">
    <a id="getopt.1" name="getopt.1" shape="rect"> </a>

    <div class="titlepage"> </div>

    <div class="refnamediv">
      <h2>Name</h2>

      <p>getopt — parse command options (enhanced)</p>
    </div>

    <div class="refsynopsisdiv">
      <h2>Synopsis</h2>

      <div class="cmdsynopsis">
        <p><code class="command">getopt</code> optstring
        parameters</p>
      </div>

      <div class="cmdsynopsis">
        <p><code class="command">getopt</code> [options]
        [<code class="option">−−</code>] optstring
        parameters</p>
      </div>

      <div class="cmdsynopsis">
        <p><code class="command">getopt</code> [options]
        <code class="option">−o</code> | <code class="option">−−options</code> optstring [options]
        [<code class="option">−−</code>] parameters</p>
      </div>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect1" name="getopt-1_sect1" shape="rect"> </a>

      <h2>DESCRIPTION</h2>

      <p><span class="command"><strong>getopt</strong></span> is
      used to break up (<span class="command"><strong>parse</strong></span>) options in command
      lines for easy parsing by shell procedures, and to check for
      legal options. It uses the GNU <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> routines to do
      this.</p>

      <p>The parameters <span class="command"><strong>getopt</strong></span> is called with can
      be divided into two parts: options which modify the way
      getopt will parse (<em class="parameter"><code>options</code></em> and <code class="option">−o</code>|<code class="option">−−options</code> <em class="parameter"><code>optstring</code></em> in the <code class="constant">SYNOPSIS</code>), and the parameters which are to
      be parsed (<em class="parameter"><code>parameters</code></em>
      in the <code class="constant">SYNOPSIS</code>). The second
      part will start at the first non−option parameter that
      is not an option argument, or after the first occurrence of
      '<code class="option">−−</code>'. If no
      '<code class="option">−o</code>' or '<code class="option">−−options</code>' option is found in the
      first part, the first parameter of the second part is used as
      the short options string.</p>

      <p>If the environment variable <code class="constant">GETOPT_COMPATIBLE</code> is set, or if its first
      parameter is not an option (does not start with a
      '<span class="emphasis"><em>−</em></span>', this is the
      first format in the <code class="constant">SYNOPSIS</code>),
      <span class="command"><strong>getopt</strong></span> will
      generate output that is compatible with that of other
      versions of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a>. It will still do
      parameter shuffling and recognize optional arguments (see
      section <code class="constant">COMPATIBILITY</code> for more
      information).</p>

      <p>Traditional implementations of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> are unable to
      cope with whitespace and other (shell−specific) special
      characters in arguments and non−option parameters. To
      solve this problem, this implementation can generate quoted
      output which must once again be interpreted by the shell
      (usually by using the <span class="command"><strong>eval</strong></span> command). This has the
      effect of preserving those characters, but you must call
      <span class="command"><strong>getopt</strong></span> in a way
      that is no longer compatible with other versions (the second
      or third format in the <code class="constant">SYNOPSIS</code>). To determine whether this
      enhanced version of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> is installed, a
      special test option (<code class="option">−T</code>)
      can be used.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect2" name="getopt-1_sect2" shape="rect"> </a>

      <h2>OPTIONS</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="option">−a,
          −−alternative</code></span></dt>

          <dd>
            <p>Allow long options to start with a single
            '<span class="emphasis"><em>−</em></span>'.</p>
          </dd>

          <dt><span class="term"><code class="option">−h,
          −−help</code></span></dt>

          <dd>
            <p>Output a small usage guide and exit successfully. No
            other output is generated.</p>
          </dd>

          <dt><span class="term"><code class="option">−l,
          −−longoptions <em class="parameter"><code>longopts</code></em></code></span></dt>

          <dd>
            <p>The long (multi−character) options to be
            recognized. More than one option name may be specified
            at once, by separating the names with commas. This
            option may be given more than once, the <em class="parameter"><code>longopts</code></em> are cumulative.
            Each long option name in <em class="parameter"><code>longopts</code></em> may be followed
            by one colon to indicate it has a required argument,
            and by two colons to indicate it has an optional
            argument.</p>
          </dd>

          <dt><span class="term"><code class="option">−n,
          −−name <em class="parameter"><code>progname</code></em></code></span></dt>

          <dd>
            <p>The name that will be used by the <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> routines
            when it reports errors. Note that errors of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> are still
            reported as coming from getopt.</p>
          </dd>

          <dt><span class="term"><code class="option">−o,
          −−options <em class="parameter"><code>shortopts</code></em></code></span></dt>

          <dd>
            <p>The short (one−character) options to be
            recognized. If this option is not found, the first
            parameter of <span class="command"><strong>getopt</strong></span> that does not
            start with a '<span class="emphasis"><em>−</em></span>' (and is not an
            option argument) is used as the short options string.
            Each short option character in <em class="parameter"><code>shortopts</code></em> may be followed
            by one colon to indicate it has a required argument,
            and by two colons to indicate it has an optional
            argument. The first character of shortopts may be
            '<code class="literal">+</code>' or '<span class="emphasis"><em>−</em></span>' to influence the
            way options are parsed and output is generated (see
            section <span class="emphasis"><em>SCANNING
            MODES</em></span> for details).</p>
          </dd>

          <dt><span class="term"><code class="option">−q,
          −−quiet</code></span></dt>

          <dd>
            <p>Disable error reporting by getopt(3).</p>
          </dd>

          <dt><span class="term"><code class="option">−Q,
          −−quiet−output</code></span></dt>

          <dd>
            <p>Do not generate normal output. Errors are still
            reported by <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a>, unless you
            also use <code class="option">−q</code>.</p>
          </dd>

          <dt><span class="term"><code class="option">−s,
          −−shell <em class="parameter"><code>shell</code></em></code></span></dt>

          <dd>
            <p>Set quoting conventions to those of shell. If no
            −s argument is found, the BASH conventions are
            used. Valid arguments are currently '<span class="command"><strong>sh</strong></span>' '<span class="command"><strong>bash</strong></span>', '<span class="command"><strong>csh</strong></span>', and
            '<span class="command"><strong>tcsh</strong></span>'.</p>
          </dd>

          <dt><span class="term"><code class="option">−u,
          −−unquoted</code></span></dt>

          <dd>
            <p>Do not quote the output. Note that whitespace and
            special (shell−dependent) characters can cause
            havoc in this mode (like they do with other <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a>
            implementations).</p>
          </dd>

          <dt><span class="term"><code class="option">−T,
          −−test</code></span></dt>

          <dd>
            <p>Test if your <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> is this
            enhanced version or an old version. This generates no
            output, and sets the error status to 4. Other
            implementations of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a>, and this
            version if the environment variable <code class="constant">GETOPT_COMPATIBLE</code> is set, will return
            '<code class="option">−−</code>' and error
            status 0.</p>
          </dd>

          <dt><span class="term"><code class="option">−V,
          −−version</code></span></dt>

          <dd>
            <p>Output version information and exit successfully. No
            other output is generated.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect3" name="getopt-1_sect3" shape="rect"> </a>

      <h2>PARSING</h2>

      <p>This section specifies the format of the second part of
      the parameters of <span class="command"><strong>getopt</strong></span> (the <em class="parameter"><code>parameters</code></em> in the <code class="constant">SYNOPSIS</code>). The next section (<code class="constant">OUTPUT</code>) describes the output that is
      generated. These parameters were typically the parameters a
      shell function was called with. Care must be taken that each
      parameter the shell function was called with corresponds to
      exactly one parameter in the parameter list of <span class="command"><strong>getopt</strong></span> (see the
      <code class="constant">EXAMPLES</code>). All parsing is done
      by the GNU <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> routines.</p>

      <p>The parameters are parsed from left to right. Each
      parameter is classified as a short option, a long option, an
      argument to an option, or a non−option parameter.</p>

      <p>A simple short option is a '<span class="emphasis"><em>−</em></span>' followed by a short
      option character. If the option has a required argument, it
      may be written directly after the option character or as the
      next parameter (ie. separated by whitespace on the command
      line). If the option has an optional argument, it must be
      written directly after the option character if present.</p>

      <p>It is possible to specify several short options after one
      '<span class="emphasis"><em>−</em></span>', as long as
      all (except possibly the last) do not have required or
      optional arguments.</p>

      <p>A long option normally begins with '<code class="option">−−</code>' followed by the long option
      name. If the option has a required argument, it may be
      written directly after the long option name, separated by
      '<code class="literal">=</code>', or as the next argument
      (i.e. separated by whitespace on the command line). If the
      option has an optional argument, it must be written directly
      after the long option name, separated by '<code class="literal">=</code>', if present (if you add the '<code class="literal">=</code>' but nothing behind it, it is interpreted
      as if no argument was present; this is a slight bug, see the
      <code class="constant">BUGS</code>). Long options may be
      abbreviated, as long as the abbreviation is not
      ambiguous.</p>

      <p>Each parameter not starting with a '<span class="emphasis"><em>−</em></span>', and not a required
      argument of a previous option, is a non−option
      parameter. Each parameter after a '<code class="option">−−</code>' parameter is always
      interpreted as a non−option parameter. If the
      environment variable <code class="constant">POSIXLY_CORRECT</code> is set, or if the short
      option string started with a '<code class="literal">+</code>', all remaining parameters are interpreted
      as non−option parameters as soon as the first
      non−option parameter is found.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect4" name="getopt-1_sect4" shape="rect"> </a>

      <h2>OUTPUT</h2>

      <p>Output is generated for each element described in the
      previous section. Output is done in the same order as the
      elements are specified in the input, except for
      non−option parameters. Output can be done in
      <span class="command"><strong>compatible</strong></span>
      (<span class="command"><strong>unquoted</strong></span>)
      mode, or in such way that whitespace and other special
      characters within arguments and non−option parameters
      are preserved (see <code class="constant">QUOTING</code>).
      When the output is processed in the shell script, it will
      seem to be composed of distinct elements that can be
      processed one by one (by using the shift command in most
      shell languages). This is imperfect in unquoted mode, as
      elements can be split at unexpected places if they contain
      whitespace or special characters.</p>

      <p>If there are problems parsing the parameters, for example
      because a required argument is not found or an option is not
      recognized, an error will be reported on stderr, there will
      be no output for the offending element, and a non−zero
      error status is returned.</p>

      <p>For a short option, a single '<span class="emphasis"><em>−</em></span>' and the option character
      are generated as one parameter. If the option has an
      argument, the next parameter will be the argument. If the
      option takes an optional argument, but none was found, the
      next parameter will be generated but be empty in quoting
      mode, but no second parameter will be generated in unquoted
      (compatible) mode. Note that many other <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> implementations
      do not support optional arguments.</p>

      <p>If several short options were specified after a single
      '<span class="emphasis"><em>−</em></span>', each will
      be present in the output as a separate parameter.</p>

      <p>For a long option, '<code class="option">−−</code>' and the full option name are
      generated as one parameter. This is done regardless whether
      the option was abbreviated or specified with a single
      '<span class="emphasis"><em>−</em></span>' in the
      input. Arguments are handled as with short options.</p>

      <p>Normally, no non−option parameters output is
      generated until all options and their arguments have been
      generated. Then '<code class="option">−−</code>'
      is generated as a single parameter, and after it the
      non−option parameters in the order they were found,
      each as a separate parameter. Only if the first character of
      the short options string was a '<span class="emphasis"><em>−</em></span>', non−option
      parameter output is generated at the place they are found in
      the input (this is not supported if the first format of the
      <code class="constant">SYNOPSIS</code> is used; in that case
      all preceding occurrences of '<span class="emphasis"><em>−</em></span>' and '<code class="literal">+</code>' are ignored).</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect5" name="getopt-1_sect5" shape="rect"> </a>

      <h2>QUOTING</h2>

      <p>In compatible mode, whitespace or 'special' characters in
      arguments or non−option parameters are not handled
      correctly. As the output is fed to the shell script, the
      script does not know how it is supposed to break the output
      into separate parameters. To circumvent this problem, this
      implementation offers quoting. The idea is that output is
      generated with quotes around each parameter. When this output
      is once again fed to the shell (usually by a shell
      <span class="command"><strong>eval</strong></span> command),
      it is split correctly into separate parameters.</p>

      <p>Quoting is not enabled if the environment variable
      <code class="constant">GETOPT_COMPATIBLE</code> is set, if
      the first form of the <code class="constant">SYNOPSIS</code>
      is used, or if the option '<code class="option">−u</code>' is found.</p>

      <p>Different shells use different quoting conventions. You
      can use the '<code class="option">−s</code>' option to
      select the shell you are using. The following shells are
      currently supported: '<span class="command"><strong>sh</strong></span>', '<span class="command"><strong>bash</strong></span>', '<span class="command"><strong>csh</strong></span>' and '<span class="command"><strong>tcsh</strong></span>'. Actually, only two
      'flavors' are distinguished: sh−like quoting
      conventions and csh−like quoting conventions. Chances
      are that if you use another shell script language, one of
      these flavors can still be used.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect6" name="getopt-1_sect6" shape="rect"> </a>

      <h2>SCANNING MODES</h2>

      <p>The first character of the short options string may be a
      '<span class="emphasis"><em>−</em></span>' or a
      '<code class="literal">+</code>' to indicate a special
      scanning mode. If the first calling form in the <code class="constant">SYNOPSIS</code> is used they are ignored; the
      environment variable <code class="constant">POSIXLY_CORRECT</code> is still examined,
      though.</p>

      <p>If the first character is '<code class="literal">+</code>', or if the environment variable
      <code class="constant">POSIXLY_CORRECT</code> is set, parsing
      stops as soon as the first non−option parameter (ie. a
      parameter that does not start with a '<span class="emphasis"><em>−</em></span>') is found that is not an
      option argument. The remaining parameters are all interpreted
      as non−option parameters.</p>

      <p>If the first character is a '<span class="emphasis"><em>−</em></span>', non−option
      parameters are outputted at the place where they are found;
      in normal operation, they are all collected at the end of
      output after a '<code class="option">−−</code>'
      parameter has been generated. Note that this '<code class="option">−−</code>' parameter is still generated,
      but it will always be the last parameter in this mode.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect7" name="getopt-1_sect7" shape="rect"> </a>

      <h2>COMPATIBILITY</h2>

      <p>This version of <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> is written to be
      as compatible as possible to other versions. Usually you can
      just replace them with this version without any
      modifications, and with some advantages.</p>

      <p>If the first character of the first parameter of getopt is
      not a '<span class="emphasis"><em>−</em></span>',
      getopt goes into compatibility mode. It will interpret its
      first parameter as the string of short options, and all other
      arguments will be parsed. It will still do parameter
      shuffling (ie. all non−option parameters are outputted
      at the end), unless the environment variable <code class="constant">POSIXLY_CORRECT</code> is set.</p>

      <p>The environment variable <code class="constant">GETOPT_COMPATIBLE</code> forces <span class="command"><strong>getopt</strong></span> into compatibility
      mode. Setting both this environment variable and <code class="constant">POSIXLY_CORRECT</code> offers 100% compatibility
      for 'difficult' programs. Usually, though, neither is
      needed.</p>

      <p>In compatibility mode, leading '<span class="emphasis"><em>−</em></span>' and '<code class="literal">+</code>' characters in the short options string
      are ignored.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect8" name="getopt-1_sect8" shape="rect"> </a>

      <h2>RETURN CODES</h2>

      <p><span class="command"><strong>getopt</strong></span>
      returns error code <code class="constant">0</code> for
      successful parsing, <code class="constant">1</code> if
      <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> returns errors,
      <code class="constant">2</code> if it does not understand its
      own parameters, <code class="constant">3</code> if an
      internal error occurs like out−of−memory, and
      <code class="constant">4</code> if it is called with
      <code class="option">−T</code>.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect9" name="getopt-1_sect9" shape="rect"> </a>

      <h2>EXAMPLES</h2>

      <p>Example scripts for (ba)sh and (t)csh are provided with
      the <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> distribution, and
      are optionally installed in <code class="filename">/usr/share/getopt/</code>.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect10" name="getopt-1_sect10" shape="rect"> </a>

      <h2>ENVIRONMENT</h2>

      <div class="variablelist">
        <dl class="variablelist">
          <dt><span class="term"><code class="constant">POSIXLY_CORRECT</code></span></dt>

          <dd>
            <p>This environment variable is examined by the
            <a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> routines.
            If it is set, parsing stops as soon as a parameter is
            found that is not an option or an option argument. All
            remaining parameters are also interpreted as
            non−option parameters, regardless whether they
            start with a '<span class="emphasis"><em>−</em></span>'.</p>
          </dd>

          <dt><span class="term"><code class="constant">GETOPT_COMPATIBLE</code></span></dt>

          <dd>
            <p>Forces <span class="command"><strong>getopt</strong></span> to use the
            first calling format as specified in the <code class="constant">SYNOPSIS</code>.</p>
          </dd>
        </dl>
      </div>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect11" name="getopt-1_sect11" shape="rect"> </a>

      <h2>BUGS</h2>

      <p><a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a> can parse long
      options with optional arguments that are given an empty
      optional argument (but can not do this for short options).
      This <a class="link" href="../htmlman1/getopt.1.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(1)</span></a> treats optional
      arguments that are empty as if they were not present.</p>

      <p>The syntax if you do not want any short option variables
      at all is not very intuitive (you have to set them explicitly
      to the empty string).</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect12" name="getopt-1_sect12" shape="rect"> </a>

      <h2>AUTHOR</h2>

      <p><a class="literalurl" href="mailto:frodo%20REMOVE%20@%20THIS%20frodo.looijaard.name" target="_top" shape="rect">Frodo Looijaard</a></p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect13" name="getopt-1_sect13" shape="rect"> </a>

      <h2>SEE ALSO</h2>

      <p><a class="link" href="../htmlman3/getopt.3.html" target="_top" shape="rect"><span class="citerefentry"><span class="refentrytitle">getopt</span>(3)</span></a>, <span class="citerefentry"><span class="refentrytitle">bash</span>(1)</span>, <span class="citerefentry"><span class="refentrytitle">tcsh</span>(1)</span>.</p>
    </div>

    <div class="refsect1">
      <a id="getopt-1_sect14" name="getopt-1_sect14" shape="rect"> </a>

      <h2>AVAILABILITY</h2>

      <p>The getopt command is part of the util-linux package and
      is available from <a class="literalurl" href="ftp://ftp.kernel.org/pub/linux/utils/util-linux/" target="_top" shape="rect">Linux Kernel Archive</a></p>

      <div class="license">
        <table style="border-collapse: collapse;">
          <colgroup span="1">
            <col span="1" />
          </colgroup>

          <tbody>
            <tr>
              <td style="" rowspan="1" colspan="1">
                <div class="literallayout">
                  <br />
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</body>
</html>
